{{body-class "practice-matching-page"}}
<section class="practice-matching-page">
  <div class="practice-matching-header">
    <h1>{{i18n "practice_matching.page_title"}}</h1>
    <p>{{i18n "practice_matching.page_description"}}</p>
  </div>

  <div class="practice-matching-content">
    <!-- 添加新兴趣 -->
    <div class="practice-matching-section">
      <h2>{{i18n "practice_matching.add_interest_section"}}</h2>
      <div class="add-interest-form">
        <button class="btn btn-primary" {{action "addInterest"}}>
          <i class="fa fa-plus"></i> {{i18n "practice_matching.add_user_button"}}
        </button>
      </div>
    </div>

    <!-- 我的实践兴趣 -->
    <div class="practice-matching-section">
      <h2>{{i18n "practice_matching.my_interests"}} ({{this.practiceInterests.length}})</h2>
      {{#if this.practiceInterests.length}}
        <div class="user-list">
          {{#each this.practiceInterests as |user|}}
            <div class="user-item">
              <div class="user-avatar">
                {{#if user.avatar_template}}
                  <img src={{this.getAvatarUrl user.avatar_template}} alt={{user.username}} class="avatar">
                {{else}}
                  <div class="avatar-placeholder">{{user.username}}</div>
                {{/if}}
              </div>
              <div class="user-info">
                <h3>{{user.name}}</h3>
                <p><span class="username">@{{user.username}}</span></p>
              </div>
              <div class="user-actions">
                <button class="btn btn-default" {{action "viewUserProfile" user.username}}>
                  {{i18n "practice_matching.view_profile"}}
                </button>
                <button class="btn btn-danger" {{action "removeInterest" user.username}}>
                  {{i18n "practice_matching.remove"}}
                </button>
              </div>
            </div>
          {{/each}}
        </div>
      {{else}}
        <p class="no-data">{{i18n "practice_matching.no_interests"}}</p>
      {{/if}}
    </div>



    <!-- 双向匹配 -->
    <div class="practice-matching-section">
      <h2>{{i18n "practice_matching.mutual_matches"}} ({{this.practiceMatches.length}})</h2>
      {{#if this.practiceMatches.length}}
        <div class="user-list matches">
          {{#each this.practiceMatches as |user|}}
            <div class="user-item match">
              <div class="user-avatar">
                {{#if user.avatar_template}}
                  <img src={{this.getAvatarUrl user.avatar_template}} alt={{user.username}} class="avatar">
                {{else}}
                  <div class="avatar-placeholder">{{user.username}}</div>
                {{/if}}
              </div>
              <div class="user-info">
                <h3>{{user.name}}</h3>
                <p><span class="username">@{{user.username}}</span></p>
                <span class="match-badge">{{i18n "practice_matching.match_badge"}}</span>
              </div>
              <div class="user-actions">
                <button class="btn btn-default" {{action "viewUserProfile" user.username}}>
                  {{i18n "practice_matching.view_profile"}}
                </button>
              </div>
            </div>
          {{/each}}
        </div>
      {{else}}
        <p class="no-data">{{i18n "practice_matching.no_matches"}}</p>
      {{/if}}
    </div>
  </div>
</section> 